{% extends "pokedex/bootstrap_cdn.html" %} {% block content %} {% load static %} {% load cache %}
{% load pokedex_extras %}

{% cache None main_list %}
<div class="card mx-auto">
  <h3 class="card-header text-primary">Explore Pokemon below!</h3>
  <div class="card-body">
    <div class="row justify-content-center align-self align-items-end mx-1">

      {% for pokemon, type in pokemon_list %}
      <div class="card list col-xs-12 col-md-6 col-lg-4 col-xl-3 my-5 py-5">
        {% with p_id=pokemon.id img_str=pokemon.id|pokemon_sprite %}

        <a href="{% url 'pokedex:pokemon_detail' p_id %}" class="thumbnail" style="text-decoration : none">

          <img class="img-fluid" src="{% static ''|addstr:img_str %}" alt="Image Description" >

          <div class="caption">
            <h3>{{ pokemon.name|title }}</h3>
            <p>#{{ pokemon.get_padded_id }}</p>
            <div>
              <a href="{% url 'pokedex:pokemon_detail' p_id %}" class="btn btn-primary {{ type.0 }}" role="button" >{{ type.0|title }}</a>
              {% if type.1 != "NULL" %}
              <a href="{% url 'pokedex:pokemon_detail' p_id %}" class="btn btn-primary {{ type.1 }}" role="button" >{{ type.1|title }}</a>
              {% endif %}
            </div>
          </div>
      </div>
      {% endwith %} {% endfor %}


    </div>
  </div>
</div>
{% endcache %}

{% endblock %}